<template>
  <!-- ‡∏Å‡∏£‡∏≠‡∏ö Navbar ‡∏´‡∏•‡∏±‡∏Å -->
  <nav class="w-full h-[65px] bg-white px-4 flex items-center justify-between shadow-[0_2px_4px_rgba(0,0,0,0.05)] sticky top-0 z-50">
    
    <!-- ‡∏ù‡∏±‡πà‡∏á‡∏ã‡πâ‡∏≤‡∏¢: ‡πÇ‡∏•‡πÇ‡∏Å‡πâ ‡πÅ‡∏•‡∏∞ ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô -->
    <router-link to="/" class="flex items-center gap-[10px]">
      <!-- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ -->
      <div class="w-[50px] h-[50px] flex items-center justify-center">
        <img src="../../assets/logo.png" alt="Mala Verse Logo" class="w-full h-full object-contain" />
      </div>

      <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô -->
      <span class="font-['Permanent_Marker',_cursive] text-[24px] font-bold text-black tracking-[0.03em] mt-[2px]">
        Mala Verse
      </span>
    </router-link>

    <!-- ‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏ß‡∏≤: ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô (‡∏ö‡∏¥‡∏• ‡πÅ‡∏•‡∏∞ ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤) -->
    <div class="flex items-center gap-5 mr-1 mt-1">
      
      <!-- 1. ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ö‡∏¥‡∏•/‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î Pop-up) -->
      <button @click="openOrderPopup" class="relative flex items-center justify-center cursor-pointer bg-transparent border-none p-0">
        <!-- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à (Receipt) ‡∏™‡∏µ‡∏î‡∏≥ -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-[28px] h-[28px] fill-black">
          <path fill-rule="evenodd" d="M7 2a2 2 0 0 0-2 2v17a1 1 0 0 0 1.555.832L8 20.877l1.445.955a1 1 0 0 0 1.11 0L12 20.877l1.445.955a1 1 0 0 0 1.11 0L16 20.877l1.445.955A1 1 0 0 0 19 21V4a2 2 0 0 0-2-2H7zm2 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3-1a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3zm-3 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3-1a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3zm-3 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3-1a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3z" clip-rule="evenodd"/>
        </svg>
        
        <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ö‡∏¥‡∏• -->
        <span class="absolute -top-[6px] -right-[8px] bg-[#b00000] text-white text-[10px] font-bold w-[16px] h-[16px] rounded-full flex items-center justify-center leading-none">
          {{ orderCount }}
        </span>
      </button>

      <!-- 2. ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î Pop-up) -->
      <button @click="openCartPopup" class="relative flex items-center justify-center cursor-pointer bg-transparent border-none p-0">
        <!-- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡∏ó‡∏∂‡∏ö -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-[28px] h-[28px] fill-black">
          <path fill-rule="evenodd" d="M8 8V6a4 4 0 1 1 8 0v2h4a1 1 0 0 1 1 1v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9a1 1 0 0 1 1-1h4zm2-2v2h4V6a2 2 0 1 0-4 0z" clip-rule="evenodd" />
        </svg>
        
        <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ -->
        <span class="absolute -top-[6px] -right-[8px] bg-[#b00000] text-white text-[10px] font-bold w-[16px] h-[16px] rounded-full flex items-center justify-center leading-none">
          {{ cartCount }}
        </span>
      </button>

    </div>
  </nav>
</template>

<script setup>
import { ref, onMounted } from 'vue';

// 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏ö‡∏ö Reactive ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
const orderCount = ref(0);
const cartCount = ref(0);

// 2. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î Pop-up (‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)
const openOrderPopup = () => {
  console.log('‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏õ‡∏¥‡∏î Pop-up ‡∏ö‡∏¥‡∏•/‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠');
  // üìå ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î Pop-up ‡∏ö‡∏¥‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
};

const openCartPopup = () => {
  console.log('‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏õ‡∏¥‡∏î Pop-up ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤');
  // üìå ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î Pop-up ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
};

// 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Database / API
const fetchNavbarData = async () => {
  try {
    // üìå ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ Backend/Database ‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏≠‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡πÉ‡∏™‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
    orderCount.value = 0;
    cartCount.value = 0;
  } catch (error) {
    console.error('‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Navbar ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:', error);
  }
};

// 4. ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ Navbar ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
onMounted(() => {
  fetchNavbarData();
});
</script>

<style scoped>
/* ‡πÇ‡∏´‡∏•‡∏î‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏à‡∏≤‡∏Å Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap');
</style>